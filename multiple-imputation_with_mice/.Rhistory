knitr::opts_chunk$set(echo = TRUE)
load(mice)
install.packages("mice")
load(mice)
library(mice)
library(mice)
summary(boys)
ini <- mice(boys,maxit=0,print=FALSE)
post <- ini$post
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["chl"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(nhanes2, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(bmi~age+chl))
est[[i]] <- summary(pool(fit))
}
View(ini)
head(post)
ini$post
ini <- mice(boys,maxit=0,print=FALSE)
post <- ini$post
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["chl"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, glm(hc~age+bmi+phb+tv, family = "gaussian"))
est[[i]] <- summary(pool(fit))
}
est <- vector("list",length(k))
est
seq(1,1.5,0.1)
post["chl"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
post["chl"]
paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, glm(hc~age+bmi+phb+tv, family = "gaussian"))
est[[i]] <- summary(pool(fit))
}
ncol(boys)
ini$post
post <- ini$post[-c(2:3)]
post
ini <- mice(boys,maxit=0,print=FALSE)
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, glm(hc~age+bmi+gen+phb+tv+reg, family = "gaussian"))
est[[i]] <- summary(pool(fit))
}
length(post)
post <- ini$post[-c(2:3)]
post
head(boys)
ini <- mice(boys,maxit=0,print=FALSE)
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(hc~age+bmi+gen+phb+tv+reg))
est[[i]] <- summary(pool(fit))
}
length(post);  ncol(data)
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
post
imp <- mice(boys[-c(2:3)], post=post, seed=00010, print=FALSE, maxit=20)
ini <- mice(boys,maxit=0,print=FALSE)
post <- ini$post[-c(2:3)]
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys[-c(2:3)], post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(hc~age+bmi+gen+phb+tv+reg))
est[[i]] <- summary(pool(fit))
}
est[[i]]
ini$post
rm()
rm(list(ls))
rm(rm=list(ls))
rm(ls=list(ls))
ls()
lsit=ls()
rm(list = )
rm(ls())
summary(boys)
ini <- mice(boys,maxit=0,print=FALSE)
post <- ini$post
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys[-c(2:3)], post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(hc~age+bmi+gen+phb+tv+reg))
est[[i]] <- summary(pool(fit))
}
ini <- mice(boys,maxit=0,print=FALSE)
k <- seq(1,1.5,0.1)
est <- vector("list",length(k))
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(hc~age+bmi+gen+phb+tv+reg))
est[[i]] <- summary(pool(fit))
}
for (i in 1:length(k)) {
post["bmi"] <- paste("imp[[j]][,i] <-",k[i],"* imp[[j]][,i]")
imp <- mice(boys, post=post, seed=00010, print=FALSE, maxit=20)
fit <- with(imp, lm(hc~age+bmi+gen+phb+tv+reg))
est[[i]] <- summary(pool(fit))
}
```
dim(na.omit(boys))
dim(boys)
boys$test = ifelse(is.na(boys$bmi), 1,0 )
table(boys$test)
boys$test = ifelse(is.na(boys$bmi), 1,0 )
mis_bmi = glm(test ~ age, data=boys)
summary(mis_bmi)
