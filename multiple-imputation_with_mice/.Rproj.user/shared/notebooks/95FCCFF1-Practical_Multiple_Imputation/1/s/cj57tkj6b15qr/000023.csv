"0",""
"0","#list the variables you want to test"
"0","miss_var_list = c(""eq5d0"", ""ethnic"", ""imdscore"", ""bmi"", ""smoking"")"
"0","complete_var  = c(""age"", ""sex"", ""ohsdiff"",""ohs0"")"
"0",""
"0","#install.packages(""ggcorrplot"")"
"0","library(ggcorrplot)"
"0",""
"0","#Generate a data frame where missing variables are codified by 0=non-missing value and 1=missing value:"
"0","miss_data =  data %>% mutate("
"0","  miss_eq5d0= ifelse(is.na(eq5d0),1,0), "
"0","  miss_ethnic= ifelse(is.na(ethnic),1,0), "
"0","  miss_imdscore= ifelse(is.na(imdscore),1,0), "
"0","  miss_bmi=ifelse(is.na(bmi),1,0), "
"0","  miss_smoking= ifelse(is.na(smoking),1,0) )"
"0",""
"0","corr_var = c(""miss_eq5d0"", ""miss_ethnic"", ""miss_imdscore"", ""miss_bmi"", ""miss_smoking"", complete_var)"
"0",""
"0","model.matrix(~0+., data=miss_data[corr_var]) %>% "
"0","  cor(use=""pairwise.complete.obs"")  %>% "
"0","  ggcorrplot(show.diag = F, type=""lower"", lab=TRUE, lab_size=2)"
